<!doctype html>
<html>
<head>
<meta name="google-site-verification" content="P59h8ZQMBW-Z-SxcCzYKOzqK2z9CW5thQs0hP0voDaE" />
<meta charset="utf-8">
<meta name="description" content="Site de series." />
<meta name="keywords" content="series" />
<meta name="author" content="Samuel Caldas">
<meta name="robots" content="index, follow" />
<link rel="icon" href="http://icons.iconarchive.com/icons/custo-man/christmas/128/Lib-Videos-icon.png" />
<title>Series 6te</title>
<style type="text/css">
body,td,th {
	color: #FFF;
	font-family: "Segoe UI";
	list-style-type: none;
	font-weight: lighter;
}
body {
	background-color: #EB0303;
	background-image: url(http://samu.eu5.org/ted.jpg);
	background-repeat: no-repeat;
	background-attachment: fixed;
	background-position: center center;
	margin-top: 70px;
	margin-bottom: 70px;
	margin-left: 0px;
	margin-right: 0px;
}
a:link {
	color: #FFF;
	text-decoration: none;
}
a:visited {
	text-decoration: none;
	color: #FFF;
}
a:hover {
	text-decoration: underline;
	color: #FFF;
}
a:active {
	text-decoration: none;
	color: #FFF;
}
.capa{
	-webkit-border-radius: 25px;
	-moz-border-radius: 25px;
	border-radius: 25px;
	width: 690px;
	border: 20px solid rgba(0, 0, 0, 0.5);
	position: relative;
	left: 50%;
	margin-top: 0px;
	margin-right: 0px;
	margin-bottom: 0px;
	margin-left: -365px;
}
ul{
	list-style-type: none;
}
.serie{
	text-shadow: 3px 3px 3px rgba(0, 0, 0, 0.5);
	-webkit-border-radius: 30px;
	-moz-border-radius: 30px;
	border-radius: 30px;
	display: block;
	position: relative;
	overflow: hidden;
	background-color: rgba(235, 3, 3, 0.5);
	padding: 15px;
	margin-bottom: 50px;
	border: solid rgba(235, 3, 3, 0.4);
	margin-left: -395px;
}
.serie:last-child{
	margin-bottom: 0px;
}
.xe-warning, .xdebug-error, font, table, table *, font *{
	visibility: hidden;
	position: fixed;
	height: 1px;
	width: 1px;
	left: 0px;
	bottom: 0px;
	font-size: 1px;
	display: block;
	margin: 0px;
	padding: 0px;
	float: left;
}
input{
	background: rgba(255, 255, 255, 0.3);
	border: 1px solid rgba(255, 255, 255, 0.8);
	font-family: Verdana, Geneva, sans-serif;
	font-weight: lighter;
	font-size: 14px;
	padding: 3px;
	margin-right: 3px;
	margin-left: 3px;
	color: #FFF;
	height: 20px;
}
.ok{
	-webkit-border-radius: 100%;
	-moz-border-radius: 100%;
	border-radius: 100%;
	height: 25px;
	width: 25px;
	color: #FFF;
	background: rgba(255, 255, 255, 0.1);
	line-height: 10px;
	text-align: center;
	vertical-align: middle;
	padding: 1px;
	border: 1px solid rgba(255, 255, 255, 0.7);
	font-family: Verdana, Geneva, sans-serif;
	font-weight: lighter;
	font-size: 10px;
	margin-top: 0px;
	margin-right: 10px;
	margin-bottom: 0px;
	margin-left: 10px;
}
.ok:hover{
	background:rgba(255, 255, 255, 0.3);
}
.ok:active{
	background:rgba(255, 255, 255, 0.2);
}
.static_top, .static_bot{
	float: left;
	height: 15px;
	position: fixed;
	z-index: 100;
	width: 700px;
	margin-left: -390px;
}
.static_top{
	top: 0px;
}
.static_top .top, .static_bot .bot{
	border: solid rgba(0,0,0,0.5);
	background-color: rgba(0,0,0,0.5);
	min-height: 30px;
	z-index: 200;
	position: absolute;
	width: 700px;
	line-height: 30px;
	vertical-align: middle;
	-webkit-transition: all 400ms 200ms;
	-moz-transition: all 400ms 200ms;
	-ms-transition: all 400ms 200ms;
	-o-transition: all 400ms 200ms;
	transition: all 400ms 200ms;
	margin-left: -395px;
}
.static_top:hover .top, .static_bot:hover .bot{
	-webkit-transition: all 400ms 200ms;
	-moz-transition: all 400ms 200ms;
	-ms-transition: all 400ms 200ms;
	-o-transition: all 400ms 200ms;
	transition: all 400ms 200ms;
}
.static_top .top{
	border-top-style: none;
	top: -50px;
	-webkit-border-bottom-right-radius: 20px;
	-webkit-border-bottom-left-radius: 20px;
	-moz-border-radius-bottomright: 20px;
	-moz-border-radius-bottomleft: 20px;
	border-bottom-right-radius: 20px;
	border-bottom-left-radius: 20px;
}
.static_bot{
	bottom: 0px;
}

.static_bot .bot{
	border-bottom-style: none;
	bottom: -50px;
	-webkit-border-top-left-radius: 20px;
	-webkit-border-top-right-radius: 20px;
	-moz-border-radius-topleft: 20px;
	-moz-border-radius-topright: 20px;
	border-top-left-radius: 20px;
	border-top-right-radius: 20px;
}
.static_top:hover .top{
	border-top-style: none;
	top: 0px;
}
.static_bot:hover .bot{
	bottom: 0px;
}
.serie, .static_top, .static_bot, .static_top .top, .static_bot .bot{
	display: block;
	border-top-width: 10px;
	border-right-width: 10px;
	border-bottom-width: 10px;
	border-left-width: 10px;
	left: 50%;
	width: 740px;
	margin-top: 0px;
	margin-right: 0px;
	padding-top: 10px;
	padding-right: 20px;
	padding-bottom: 10px;
	padding-left: 20px;
}
</style>
<?php
set_time_limit(0);
function baixarTV($serie,$s,$ep){
	if($file=file('http://www.baixartv.com/download/'.preg_replace('/[ -]+/' , '-' ,$serie).'/')){
	foreach($file as $lk){
		if(strstr($lk,$s."&#215;".str_pad($ep, 2, "0", STR_PAD_LEFT)." &#8211; ") && strstr($lk,'"http://r8link.com/')){
			foreach(explode('"',$lk) as $urldw){
				if(strstr($urldw,'http://')){
					$download[]=$urldw;
				}
			}
		}
	}
	}else{
		return false;
	}
	if(!isset($download)){
		$download=false;
	}
	return $download;
}
function seriesFree($serie,$s,$ep){
	if($file=file('http://www.seriesfree.biz/'.preg_replace('/[ -]+/' , '-' ,$serie).'-s'.str_pad($s, 2, "0", STR_PAD_LEFT).'e'.str_pad($ep, 2, "0", STR_PAD_LEFT).'/')){
	foreach($file as $l){
		if(strstr($l,'href="http://goo.gl/')){
			foreach(explode('"',$l) as $url){
				if(strstr($url,'http://goo.gl/')){
					$download[]=$url;
				}
			}
		}
	}
	if(!isset($download)){
		$download=false;
	}
	}else{
		return false;
	}
	return $download;
}
function makeUI($serie){
	if($serie){
echo'
	<!--'.$serie[0].'-->
	<div class="serie">
		<img src="'.$serie[7].'" class="capa">
		<a href="?serie='.$serie[0].'"><h2>'.$serie[0].' - '.$serie[1].'</h2></a>
		<strong>Temporada:</strong> '.$serie[2].' <strong>Ep:</strong> '.$serie[3].'<br>
		<strong>Data de exibi&ccedil;&atilde;o:</strong>  '.$serie[4].'<br>
		<P><strong>Resumo:</strong><br>
		<a target="new" href="http://translate.google.com.br/#en/pt/'.$serie[5].'">'.$serie[5].'</a></P>
		<strong>Links:</strong>
		<ul>';
		if($serie[6]){
			foreach($serie[6] as $j=>$server){
				if($server){
					echo'<li><strong>Server'.($j+1).'</strong></li>';
					foreach($server as $i=>$link){
						echo '	<li><a href="'.$link.'">Link'.($i+1).'</a></li>';
					}
				}
			}
		}else{
			echo '<li>Em breve...</li>';
		}
echo'	</ul>
	</div>
	<!--'.$serie[0].'-->
';
	}else{
		echo'Serie não encontrada!';
	}
}
function getSerie($file,$serie){
	foreach($file as $line){
		if(strstr($line,'<br /><a href="/cat/'.preg_replace('/[ -]+/' , '-' ,ucwords($serie)).'-episode/')){
			$link=explode('"',$line);
			foreach(file("http://www.pogdesign.co.uk".$link[1]) as $lines){
				if(strstr($lines,'</em> Episode Summary</h2>')){
					$h=array('<h2><em>', '</em> Episode Summary</h2>');
					$saida[1]=str_replace($h,'',$lines);
				}
				if(strstr($lines,'<span>Episode Info :</span>')){
					$h=array('<div><span>Episode Info :</span>', '</div>', ' Season ', ' Episode ');
					$txt=explode(',',str_replace($h,'',$lines));
					$saida[2]=trim($txt[0]);
					$saida[3]=trim($txt[1]);
				}
				if(strstr($lines,'<span>Date Episode Aired :</span>')){
					$date=explode('"',$lines);
					$saida[4]=str_replace('-','/',str_replace('/cat/day/','',$date[1]));
				}
				if(strstr($lines,'<p>') && strstr($lines,'.</p>')){
					$p=array('<p>', '</p>');
					$saida[5]=str_replace($p,'',$lines);
				}
			}
		}
	}
	$saida[0]=ucwords($serie);
	$saida[6][]=baixarTV($serie,$saida[2],$saida[3]);
	$saida[6][]=seriesFree($serie,$saida[2],$saida[3]);
	$saida[7]='http://www.pogdesign.co.uk/cat/imgs/sibig/'.preg_replace('/[ -]+/' , '-' ,ucwords($serie)).'.jpg';
	if(!isset($saida[6])){
		$saida[6]=false;
	}
	if(!isset($saida)){
		$saida=false;
	}
	return $saida;
}
function findSerie($file,$serie){
	$name=getRealname($file,remSpecial(preg_replace('/[ -]+/' , '-' ,ucwords(trim(strtolower($serie))))));
	if($name){
		makeUI(getSerie($_SESSION['file'],strtolower($name)));
	}else{
		echo'<div class="serie">Serie não encontrada!   :(</div>';
	}
}
function getAllSeries($file,$list){
	if($list=='all'){
		foreach($file as $line){
			if(strstr($line,'-summary"')){
				foreach(explode('>',$line) as $pts){
					if(!strstr($pts,'<')){
						if (!in_array(trim($pts), $name)) { 
							$name[]=trim($pts);
						}
					}
				}
			}
		}
		if(sort($name)){
			return $name;
		}else{return false;};
	}else{
		return'Parametro incorreto!';
	}
}
function remSpecial($var){
	$var = ereg_replace("[ÁÀÂÃ]","A",$var);
	$var = ereg_replace("[áàâãª]","a",$var);
	$var = ereg_replace("[ÉÈÊ]","E",$var);
	$var = ereg_replace("[éèê]","e",$var);
	$var = ereg_replace("[ÓÒÔÕ]","O",$var);
	$var = ereg_replace("[óòôõº]","o",$var);
	$var = ereg_replace("[ÚÙÛ]","U",$var);
	$var = ereg_replace("[úùû]","u",$var);
	$var = str_replace("Ç","C",$var);
	$var = str_replace("ç","c",$var);
	return $var;
}
function getRealname($file,$name){
		foreach($file as $line){
			if(strstr($line,'-summary"')){
				foreach(explode('>',$line) as $pts){
					if(!strstr($pts,'<')){
						if (!in_array(trim($pts), $name)) { 
							$names[]=trim($pts);
						}
					}
				}
			}
		}
		if(sort($names)){
			foreach($names as $item){
				similar_text($sname, $item, $sim);
				if($sim>70){
					return $item;
				}
			}
		}
	
}
ini_set('session.gc_maxlifetime', 1*60*60*24);
session_start();
if(!isset($_SESSION['file'])){
	$_SESSION['file']=file('http://www.pogdesign.co.uk/cat/');
}
?>
</head>

<body>
<div class="static_top">
    <div class="top">
        <form action="." method="get">
            <strong>Pesquise aqui sua serie preferida:&nbsp;</strong><input name="serie" type="text" id="serie" value="<?php if(isset($_GET['serie'])){echo $_GET['serie'];} ?>"><input type="submit" class="ok" value="►"><?php if(isset($_GET['serie'])){echo'<a href="."><strong>Ou vá para o inicio</strong></a>';}?>
        </form>
    </div>
</div>
<div class="serie"><h1 style="text-align:center;">Seu repositório favorito de series!</h1></div>
<?php
if(isset($_GET['serie'])){
	findSerie($_SESSION['file'],$_GET['serie']);
}else if(isset($_GET['list'])){
	echo'<div class="serie"><ul>';
	foreach(getAllSeries($_SESSION['file'],$_GET['list']) as $item){
		if($item!=''){
			echo'<a href="?serie='.$item.'"><li>'.$item.'</li></a>
';
		}
	}
	echo'</ul></div>';
}else{
	makeUI(getSerie($_SESSION['file'],'the big bang theory'));
	makeUI(getSerie($_SESSION['file'],'elementary'));
	makeUI(getSerie($_SESSION['file'],'arrow'));
	makeUI(getSerie($_SESSION['file'],'raising hope'));
	makeUI(getSerie($_SESSION['file'],'the vampire diaries'));
	makeUI(getSerie($_SESSION['file'],'the walking dead'));
	makeUI(getSerie($_SESSION['file'],'bones'));
}
?>
<div class="static_bot"><div class="bot"><a href="?list=all">Confira aqui uma lista completa de todas as nossas series!</a></div></div>
</body>
</html>